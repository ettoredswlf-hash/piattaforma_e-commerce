{% extends "catalog/base.html" %}

{% block title %}{{ product.name }}{% endblock %}

{% block content %}
<a class="muted" href="{% url 'catalog:product_list' %}">← Torna ai prodotti</a>

<div class="card" style="margin-top:12px;">
  <div style="display:grid; grid-template-columns: 1.2fr 1fr; gap:16px; align-items:start;">
    <div>
      {% if product.image %}
        <img class="thumb" style="height:380px;" src="{{ product.image.url }}" alt="{{ product.name }}">

      {% else %}
        <div class="thumb" style="height:320px; display:flex; align-items:center; justify-content:center;">
          <span class="muted">Nessuna immagine</span>
        </div>
      {% endif %}
    </div>

    <div>
      <h1 class="h1" style="margin-top:0;">{{ product.name }}</h1>
      <div class="price" style="font-size:22px;">€{{ product.price }}</div>

      {% if product.description %}
        <p class="muted" style="margin-top:12px; line-height:1.6;">
          {{ product.description }}
        </p>
      {% else %}
        <p class="muted" style="margin-top:12px;">Nessuna descrizione.</p>
      {% endif %}

      <div style="display:flex; gap:10px; margin-top:16px; flex-wrap:wrap;">
        <a class="btn btn-primary" href="{% url 'shopping_cart:cart_add' product.id %}">Add to cart</a>
        <a class="btn" href="/cart/">Vai al carrello</a>
      </div>

      <div class="muted" style="margin-top:14px; font-size:12px;">
        Disponibilità: {% if product.available %}Disponibile{% else %}Non disponibile{% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
